<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>Avatars - Kaiadmin Bootstrap 5 Admin Dashboard</title>
	<meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
	<link rel="icon" href="/admin/assets/img/kaiadmin/favicon.ico" type="image/x-icon"/>

	<!-- Fonts and icons -->
	<script src="/admin/assets/js/plugin/webfont/webfont.min.js"></script>
	<script>
		WebFont.load({
			google: {"families":["Public Sans:300,400,500,600,700"]},
			custom: {"families":["Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"], urls: ['/admin/assets/css/fonts.min.css']},
			active: function() {
				sessionStorage.fonts = true;
			}
		});
	</script>

	<!-- CSS Files -->
	<link rel="stylesheet" href="/admin/assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="/admin/assets/css/plugins.min.css">
	<link rel="stylesheet" href="/admin/assets/css/style.css" />
	<link rel="stylesheet" href="/admin/assets/css/kaiadmin.min.css">
	<!-- CSS Just for demo purpose, don't include it in your project -->
	<link rel="stylesheet" href="/admin/assets/css/demo.css">
</head>
<body>
	<div class="wrapper">
		<!-- Sidebar -->
	<div class="sidebar" data-background-color="dark">
			<div class="sidebar-logo">
			  <!-- Logo Header -->
			  <div class="logo-header" data-background-color="dark">
				<a href="/admin/index.html" class="logo">
				  <img
					src="/admin/assets/img/kaiadmin/logo_light.svg"
					alt="navbar brand"
					class="navbar-brand"
					height="20"
				  />
				</a>
				<div class="nav-toggle">
				  <button class="btn btn-toggle toggle-sidebar">
					<i class="gg-menu-right"></i>
				  </button>
				  <button class="btn btn-toggle sidenav-toggler">
					<i class="gg-menu-left"></i>
				  </button>
				</div>
				<button class="topbar-toggler more">
				  <i class="gg-more-vertical-alt"></i>
				</button>
			  </div>
			  <!-- End Logo Header -->
			</div>
			<div class="sidebar-wrapper scrollbar scrollbar-inner">
			  <div class="sidebar-content">
				<ul class="nav nav-secondary">
				  <li class="nav-item">
					<a
					  data-bs-toggle="collapse"
					  href="#dashboard"
					  class="collapsed"
					  aria-expanded="false"
					>
					  <i class="fas fa-home"></i>
					  <p>Trang Chủ</p>
					  <span class="caret"></span>
					</a>
					<div class="collapse" id="dashboard">
					  <ul class="nav nav-collapse">
						<li>
						  <a href="/admin/index.html">
							<span class="sub-item">Trang chủ</span>
						  </a>
						</li>
					  </ul>
					</div>
				  </li>
				  <li class="nav-section">
					<span class="sidebar-mini-icon">
					  <i class="fa fa-ellipsis-h"></i>
					</span>
					<h4 class="text-section">Components</h4>
				  </li>
				  <li class="nav-item active submenu">
					<a data-bs-toggle="collapse" href="#base">
					  <i class="fas fa-layer-group"></i>
					  <p>Quản Lý Phòng</p>
					  <span class="caret"></span>
					</a>
					<div class="collapse show" id="base">
					  <ul class="nav nav-collapse">
						<li class="active">
						  <a href="/admin/QuanliPhong/newroom.html">
							<span class="sub-item">Phòng Đặt Mới</span>
						  </a>
						</li>
						<li >
						  <a href="/admin/QuanliPhong/cancelrooms.html">
							<span class="sub-item">Phòng Bị Hủy</span>
						  </a>
						</li>	
						<li>
						  <a href="/admin/QuanliPhong/themphong.html">
							<span class="sub-item">Thêm Phòng</span>
						  </a>
						  </li>
					  </ul>
					</div>
				  </li>
				  <li class="nav-item">
					<a data-bs-toggle="collapse" href="#sidebarLayouts">
					  <i class="fas fa-th-list"></i>
					  <p>Quản Lí Doanh Thu</p>
					  <span class="caret"></span>
					</a>
					<div class="collapse" id="sidebarLayouts">
					  <ul class="nav nav-collapse">
						<li>
						  <a href="/admin/sidebar-style-2.html">
							<span class="sub-item">Thống Kê Doanh Thu</span>
						  </a>
						</li>
					  </ul>
					</div>
				  </li>
				  <li class="nav-item">
					<a data-bs-toggle="collapse" href="#forms">
					  <i class="fas fa-pen-square"></i>
					  <p>Quản Lí Hóa Đơn</p>
					  <span class="caret"></span>
					</a>
					<div class="collapse" id="forms">
					  <ul class="nav nav-collapse">
						<li>
						  <a href="/admin/Quanlyhoadon/dathanhtoan.html">
							<span class="sub-item">Các Hóa Đơn Đã Thanh Toán</span>
						  </a>
						</li>
						<li>
						  <a href="/admin/Quanlyhoadon/chuathanhtoan.html">
							<span class="sub-item">Các Hóa Đơn Chưa Thanh Toán</span>
						  </a>
						</li>
					  </ul>
					</div>
				  </li>
				  <li class="nav-item">
					<a data-bs-toggle="collapse" href="#tables">
					  <i class="fas fa-table"></i>
					  <p>Quản Lí Dịch Vụ</p>
					  <span class="caret"></span>
					</a>
					<div class="collapse" id="tables">
					  <ul class="nav nav-collapse">
						<li>
						  <a href="/admin/Quanlidichvu/nhahang.html">
							<span class="sub-item">Nhà hàng</span>
						  </a>
						</li>
						<li>
						  <a href="/admin/Quanlidichvu/khachsan.html">
							<span class="sub-item">Khách sạn</span>
						  </a>
						</li>
					  </ul>
					</div>
				  </li>
				  <li class="nav-item">
					<a data-bs-toggle="collapse" href="#maps">
					  <i class="fas fa-map-marker-alt"></i>
					  <p>Quản Lí Khách Hàng</p>
					  <span class="caret"></span>
					</a>
					<div class="collapse" id="maps">
					  <ul class="nav nav-collapse">
						<li>
						  <a href="/admin/maps/googlemaps.html">
							<span class="sub-item">Khách Vãn Lai</span>
						  </a>
						</li>
						<li>
						  <a href="/admin/maps/jsvectormap.html">
							<span class="sub-item">Khách Hàng Thân Quen</span>
						  </a>
						</li>
					  </ul>
					</div>
				  </li>
				  <li class="nav-item">
					<a data-bs-toggle="collapse" href="#charts">
					  <i class="far fa-chart-bar"></i>
					  <p>Quản Lí Nhân Sự</p>
					  <span class="caret"></span>
					</a>
					<div class="collapse" id="charts">
					  <ul class="nav nav-collapse">
						<li>
						  <a href="/admin/Quanlinhansu/nhanvien.html">
							<span class="sub-item">Nhân Viên</span>
						  </a>
						</li>
					  </ul>
					</div>
				  </li>
				  <li class="nav-item">
					<a  href="/admin/Setting.html">
					  <i class="fas fa-cog"></i>       
						Settings        </a>
				  </li>
				  <!-- <li class="nav-item">
					<a href="/admin/widgets.html">
					  <i class="fas fa-desktop"></i>
					  <p>Widgets</p>
					  <span class="badge badge-success">4</span>
					</a>
				  </li>
				  <li class="nav-item">
					<a href="../../../documentation/index.html">
					  <i class="fas fa-file"></i>
					  <p>Documentation</p>
					  <span class="badge badge-secondary">1</span>
					</a>
				  </li>
				  <li class="nav-item">
					<a data-bs-toggle="collapse" href="#submenu">
					  <i class="fas fa-bars"></i>
					  <p>Menu Levels</p>
					  <span class="caret"></span>
					</a>
					<div class="collapse" id="submenu">
					  <ul class="nav nav-collapse">
						<li>
						  <a data-bs-toggle="collapse" href="#subnav1">
							<span class="sub-item">Level 1</span>
							<span class="caret"></span>
						  </a>
						  <div class="collapse" id="subnav1">
							<ul class="nav nav-collapse subnav">
							  <li>
								<a href="#">
								  <span class="sub-item">Level 2</span>
								</a>
							  </li>
							  <li>
								<a href="#">
								  <span class="sub-item">Level 2</span>
								</a>
							  </li>
							</ul>
						  </div>
						</li>
						<li>
						  <a data-bs-toggle="collapse" href="#subnav2">
							<span class="sub-item">Level 1</span>
							<span class="caret"></span>
						  </a>
						  <div class="collapse" id="subnav2">
							<ul class="nav nav-collapse subnav">
							  <li>
								<a href="#">
								  <span class="sub-item">Level 2</span>
								</a>
							  </li>
							</ul>
						  </div>
						</li>
						<li>
						  <a href="#">
							<span class="sub-item">Level 1</span>
						  </a>
						</li>
					  </ul>
					</div>
				  </li> -->
				</ul>
			  </div>
			</div>
		  </div>
		<!-- End Sidebar -->
		 <div class="main-panel">
			<nav
			class="navbar navbar-header navbar-header-transparent navbar-expand-lg border-bottom"
		  >
		  <div class="container-fluid">
			<nav
			class="navbar navbar-header-left navbar-expand-lg navbar-form nav-search p-0 d-none d-lg-flex"
			>
			</nav>
	  
			<ul class="navbar-nav topbar-nav ms-md-auto align-items-center">
			<li class="nav-item topbar-user dropdown hidden-caret">
			  <a
			  class="dropdown-toggle profile-pic"
			  data-bs-toggle="dropdown"
			  href="#"
			  aria-expanded="false"
			  >
			  <div class="avatar-sm">
				<img
				src="/admin/assets/img/profilePic/gh1.jpg"
				alt="..."
				class="avatar-img rounded-circle"
				/>
			  </div>
			  <span class="profile-username">
				<span class="op-7">Xin Chào,</span>
				<span class="fw-bold">HuyBuu</span>
			  </span>
			  </a>
			  <ul class="dropdown-menu dropdown-user animated fadeIn">
			  <div class="dropdown-user-scroll scrollbar-outer">
				<li>
				<div class="user-box">
				  <div class="avatar-lg">
				  <img
					src="assets/img/profilePic/gh1.jpg"
					alt="image profile"
					class="avatar-img rounded"
				  />
				  </div>
				  <div class="u-text">
				  <h4>Gia Huy</h4>
				  <p class="text-muted">huyne465@gmail.com</p>
				  <a
					href="profile.html"
					class="btn btn-xs btn-secondary btn-sm"
					>View Profile</a
				  >
				  </div>
				</div>
				</li>
				<li>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="#">My Profile</a>
				<a class="dropdown-item" href="#">My Balance</a>
				<a class="dropdown-item" href="#">Inbox</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="#">Account Setting</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="#">Logout</a>
				</li>
			  </div>
			  </ul>
			</li>
			</ul>
		  </div>
		  </nav>
		  <div class="container">
			<h1>Phòng Đặt Mới</h1>
			
			<!-- Tìm kiếm khách hàng -->
			<input type="text" id="search-input" placeholder="Search by customer name..." onkeyup="searchCustomers()">
		
			<!-- Bảng khách hàng -->
			<table id="customers-table">
			  <thead>
				<tr>
				  <th onclick="sortTable(0)">Customer Name</th>
				  <th onclick="sortTable(1)">Room Number</th>
				  <th onclick="sortTable(2)">Booking Date</th>
				  <th onclick="sortTable(3)">Amount Paid</th>
				</tr>
			  </thead>
			  <tbody>
				<!-- Dữ liệu khách hàng sẽ được thêm ở đây -->
			  </tbody>
			</table>
		  </div>
		
		  <!-- Popup chi tiết khách hàng -->
		  <div id="customer-detail-popup" class="modal">
			<div class="modal-content">
			  <span class="close" onclick="closePopup()">&times;</span>
			  <h2>Customer Details</h2>
			  <p id="customer-details"></p>
			</div>
		  </div>
		
		  <script src="script.js"></script>
		
		 </div>
	<!--   Core JS Files   -->
	<script src="/admin/assets/js/core/jquery-3.7.1.min.js"></script>
	<script src="/admin/assets/js/core/popper.min.js"></script>
	<script src="/admin/assets/js/core/bootstrap.min.js"></script>
	
	<!-- jQuery Scrollbar -->
	<script src="/admin/assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
	<!-- Moment JS -->
	<script src="/admin/assets/js/plugin/moment/moment.min.js"></script>

	<!-- Chart JS -->
	<script src="/admin/assets/js/plugin/chart.js/chart.min.js"></script>

	<!-- jQuery Sparkline -->
	<script src="/admin/assets/js/plugin/jquery.sparkline/jquery.sparkline.min.js"></script>

	<!-- Chart Circle -->
	<script src="/admin/assets/js/plugin/chart-circle/circles.min.js"></script>

	<!-- Datatables -->
	<script src="/admin/assets/js/plugin/datatables/datatables.min.js"></script>

	<!-- Bootstrap Notify -->
	<script src="/admin/assets/js/plugin/bootstrap-notify/bootstrap-notify.min.js"></script>

	<!-- jQuery Vector Maps -->
	<script src="/admin/assets/js/plugin/jsvectormap/jsvectormap.min.js"></script>
	<script src="/admin/assets/js/plugin/jsvectormap/world.js"></script>

	<!-- Sweet Alert -->
	<script src="/admin/assets/js/plugin/sweetalert/sweetalert.min.js"></script>

	<!-- Kaiadmin JS -->
	<script src="/admin/assets/js/kaiadmin.min.js"></script>

	<!-- Kaiadmin DEMO methods, don't include it in your project! -->
	<script src="/admin/assets/js/setting-demo2.js"></script>
	<script>// Lấy phần tbody của bảng
let customers = [];

// Lấy dữ liệu khách hàng từ API
async function fetchCustomerData() {
  try {
    const response = await fetch('https://your-api-endpoint.com/customers');
    customers = await response.json();
    populateTable(customers);
  } catch (error) {
    console.error('Error fetching customer data:', error);
  }
}

// Thêm dữ liệu vào bảng
function populateTable(customers) {
  const tableBody = document.querySelector('#booked-rooms-table tbody');
  tableBody.innerHTML = ''; // Xóa nội dung cũ
  customers.forEach((customer, index) => {
    const row = document.createElement('tr');
    row.setAttribute('data-index', index); // Đặt index cho mỗi dòng
    row.innerHTML = `
      <td>${customer.id}</td>
      <td>${customer.name}</td>
      <td>${customer.roomNumber}</td>
      <td>${customer.bookingDate}</td>
      <td>${customer.stayDuration}</td>
    `;
    row.addEventListener('click', () => openCustomerDetails(index));
    tableBody.appendChild(row);
  });
}

// Tìm kiếm theo tên khách hàng
function searchByCustomerName() {
  const input = document.getElementById('search-input').value.toLowerCase();
  const filteredCustomers = customers.filter(customer => 
    customer.name.toLowerCase().includes(input)
  );
  populateTable(filteredCustomers);
}

// Sắp xếp bảng
function sortTable(columnIndex) {
  const sortedCustomers = customers.sort((a, b) => {
    const valA = Object.values(a)[columnIndex].toString().toLowerCase();
    const valB = Object.values(b)[columnIndex].toString().toLowerCase();
    if (valA < valB) return -1;
    if (valA > valB) return 1;
    return 0;
  });
  populateTable(sortedCustomers);
}

// Hiển thị popup chi tiết khách hàng
function openCustomerDetails(index) {
  const customer = customers[index];
  const customerDetails = `
    <p><strong>ID:</strong> ${customer.id}</p>
    <p><strong>Name:</strong> ${customer.name}</p>
    <p><strong>Room Number:</strong> ${customer.roomNumber}</p>
    <p><strong>Booking Date:</strong> ${customer.bookingDate}</p>
    <p><strong>Stay Duration:</strong> ${customer.stayDuration} days</p>
    <p><strong>Phone:</strong> ${customer.phone}</p>
    <p><strong>Email:</strong> ${customer.email}</p>
  `;
  document.getElementById('customer-details').innerHTML = customerDetails;
  document.getElementById('customer-details-popup').style.display = 'block';
}

// Đóng popup
function closeModal() {
  document.getElementById('customer-details-popup').style.display = 'none';
}

// Lấy dữ liệu khách hàng khi tải trang
fetchCustomerData();
		</script>
</body>
</html>